name: Deploy via FTP

on:
  push:
    branches:
      - main  # Можно указать конкретную ветку, например, main

jobs:
  deploy:
    name: Deploy
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v2  # Клонируем репозиторий

      - name: Upload via FTP
        uses: genietim/ftp-action@v4  # Используем стабильную версию v4
        with:
          host: ${{ secrets.FTP_SERVER }}
          user: ${{ secrets.FTP_USERNAME }}
          password: ${{ secrets.FTP_PASSWORD }}
          localDir: "dist"  # Локальная директория для загрузки
          remoteDir: "public_html"  # Удалённая директория на сервере
